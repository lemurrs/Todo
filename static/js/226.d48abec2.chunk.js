"use strict";(self.webpackChunktodo=self.webpackChunktodo||[]).push([[226],{259:function(e,t,o){o.d(t,{Z:function(){return r}});o(791);var a={modal:"Modal_modal__1mttd",modal__content:"Modal_modal__content__lAVmq",active:"Modal_active__38XaT"},n=o(184),r=function(e){var t=e.active,o=e.setActive,r=e.children;return(0,n.jsx)("div",{className:t?"".concat(a.modal," ").concat(a.active):" ".concat(a.modal),onClick:function(){return o(!1)},children:(0,n.jsx)("div",{className:t?"".concat(a.modal__content," ").concat(a.active):"".concat(a.modal__content," ").concat(a.Purple),onClick:function(e){return e.stopPropagation()},children:r})})}},226:function(e,t,o){o.r(t),o.d(t,{default:function(){return Y}});var a=o(791),n=o(885),r={TodoPage__title:"TodoPage_TodoPage__title__20Osq",TodoPage__todoCreator:"TodoPage_TodoPage__todoCreator__jxHyb",infoSvg:"TodoPage_infoSvg__rMMoL",Project:"TodoPage_Project__znVTJ",TodoPage:"TodoPage_TodoPage__b9YgA",TodoPage__button:"TodoPage_TodoPage__button__jOH+X",activeItem:"TodoPage_activeItem__YUrXm",BackArrow:"TodoPage_BackArrow__nHe9o",test:"TodoPage_test__dAo6U",todo:"TodoPage_todo__tg+Wo",todo__delete:"TodoPage_todo__delete__n7HzF",info__info:"TodoPage_info__info__PbBGm",InfoForm:"TodoPage_InfoForm__xU8G4",TodoPage__AboutTodo:"TodoPage_TodoPage__AboutTodo__jcHUB",info__comments:"TodoPage_info__comments__H+h8h",divCreated:"TodoPage_divCreated__KPDBF",created:"TodoPage_created__QWvSp",info__dragDrop:"TodoPage_info__dragDrop__DP-He",info__create:"TodoPage_info__create__RRxdl",info__extraTodo:"TodoPage_info__extraTodo__KxmHe",AboutTodo__extra:"TodoPage_AboutTodo__extra__SosiL",extra__createTask:"TodoPage_extra__createTask__n3AST",comments__wrapper:"TodoPage_comments__wrapper__uFS-e",Board:"TodoPage_Board__psmBV",colHeader:"TodoPage_colHeader__L2sLd",item:"TodoPage_item__Ksqa5",itemSvg:"TodoPage_itemSvg__cNXUz",placeholder:"TodoPage_placeholder__n2hfW",TodoPage__modal:"TodoPage_TodoPage__modal__F6eoo",FormDate:"TodoPage_FormDate__o5PDW",TodoPage__createTodo:"TodoPage_TodoPage__createTodo__uVsHR",fileUploader__fileName:"TodoPage_fileUploader__fileName__82lqm",TodoPage__filterTodo:"TodoPage_TodoPage__filterTodo__FSbmb"},d=o(689),s=o(259);var i=o.p+"static/media/symbol-defs.d7b5ac865b5a5100590ebafa2672ce98.svg",l=o(184);function c(e){var t=e.todo,o=e.TodoId,a=e.board,n=e.dragStartHandler,d=e.dragLeaveHandler,s=e.dragEndHandler,i=e.dragOverHandler,c=e.dropHandler,u=e.svg,m=e.DeleteTodo,_=e.pathName,g=e.setTodoId;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"".concat(r.item," ").concat(t.id===o?r.activeItem:void 0),draggable:"true",onDragStart:function(e){return n(e,a,t)},onDragLeave:function(e){return d(e)},onDragEnd:function(e){return s(e,t)},onDragOver:function(e){return i(e)},onDrop:function(e){return c(e,a,t)},children:[(0,l.jsx)("span",{children:t.title}),(0,l.jsx)("svg",{className:r.itemSvg,onClick:function(){g(null),m(_,t.id)},children:(0,l.jsx)("use",{xlinkHref:u+"#icon-cancel-circle"})})]},t.id)})}var u=a.memo(c);function m(e){var t,o,d,s=e.setTodoId,i=e.pathName,c=e.DeleteTodo,m=e.svg,_=e.TodoId,g=e.ChangeStatus,x=e.currentProject,h=e.filteredResult;x.Todo&&!h?(t=x.Todo.filter((function(e){return"Queue"===e.status})),o=x.Todo.filter((function(e){return"Development"===e.status})),d=x.Todo.filter((function(e){return"Done"===e.status}))):h&&(t=h.filter((function(e){return"Queue"===e.status})),o=h.filter((function(e){return"Development"===e.status})),d=h.filter((function(e){return"Done"===e.status})));var f=(0,a.useState)([{id:1,text:"Queue",todos:t},{id:2,text:"Development",todos:o},{id:3,text:"Done",todos:d}]),p=(0,n.Z)(f,2),v=p[0],T=p[1];v[0].todos=t,v[1].todos=o,v[2].todos=d;var j=(0,a.useState)(null),C=(0,n.Z)(j,2),P=C[0],S=C[1],b=(0,a.useState)(null),N=(0,n.Z)(b,2),y=N[0],D=N[1];function k(e,t,o){S(t),D(o),s(o.id)}function A(e){e.target.style.boxShadow="none"}function I(e,t){e.preventDefault(),"item"===e.target.className&&(e.target.style.boxShadow="0 2px 3px gray")}function Z(e,t){e.target.style.boxShadow="none",s(t.id)}function M(e,t,o){e.stopPropagation();var a=P.todos.indexOf(y);P.todos.splice(a,1);var n=t.todos.indexOf(o);t.todos.splice(n+1,0,y),T(v.map((function(e){return e.id===t.id?t:e.id===P.id?P:e})))}return(0,l.jsx)("div",{className:r.info__dragDrop,children:v.map((function(e){return(0,l.jsxs)("div",{className:r.Board,onDragOver:function(e){return I(e)},onDrop:function(t){return function(e,t){t.todos.push(y);var o=P.todos.indexOf(y);P.todos.splice(o,1),T(v.map((function(e){return e.id===t.id?t:e.id===P.id?P:e}))),g(i,_,t.text)}(0,e)},children:[(0,l.jsx)("div",{className:r.Board__title,children:e.text}),e.todos.map((function(t){return(0,l.jsx)(u,{setTodoId:s,pathName:i,DeleteTodo:c,svg:m,todo:t,TodoId:_,board:e,dragStartHandler:k,dragLeaveHandler:A,dragEndHandler:Z,dragOverHandler:I,dropHandler:M},t.id)}))]},e.text.length)}))})}var _=a.memo(m),g=o(426),x=o.n(g),h=o(982),f="FileUploader_fileUploader__9uPfP",p="FileUploader_fileUploader__fileName__iVxFH",v=function(e){var t=e.uploadedFiles,o=e.setUploadedFiles,r=(0,a.useState)(!1),d=(0,n.Z)(r,2),s=d[0],i=d[1];return(0,l.jsxs)("div",{className:"App",children:[(0,l.jsx)("input",{className:f,id:"fileUpload",type:"file",multiple:!0,onChange:function(e){!function(e){var a=(0,h.Z)(t),n=!1;e.some((function(e){if(-1===a.findIndex((function(t){return t.name===e.name}))&&(a.push(e),10===a.length&&i(!0),a.length>10))return alert("You can only add a maximum of ".concat(10," files")),i(!1),n=!0,!0})),n||o(a)}(Array.prototype.slice.call(e.target.files))},disabled:s}),(0,l.jsx)("h3",{style:{textAlign:"center"},children:"Uploaded files: "}),(0,l.jsx)("div",{className:p,children:t.map((function(e){return(0,l.jsx)("div",{children:e.name})}))})]})},T=a.memo(v);function j(e){var t=e.SetTodoCreator,o=e.pathName,d=e.setActiveModal,s=e.currentProject,i=(0,a.useState)(""),c=(0,n.Z)(i,2),u=c[0],m=c[1],_=(0,a.useState)(""),g=(0,n.Z)(_,2),h=g[0],f=g[1],p=(0,a.useState)(""),v=(0,n.Z)(p,2),j=v[0],C=v[1],P=(0,a.useState)(""),S=(0,n.Z)(P,2),b=S[0],N=S[1],y=(0,a.useState)(""),D=(0,n.Z)(y,2),k=D[0],A=D[1],I=(0,a.useState)([]),Z=(0,n.Z)(I,2),M=Z[0],H=Z[1],E=(0,a.useState)(s.Todo.length+1||1),U=(0,n.Z)(E,2),B=U[0],F=U[1];return(0,l.jsxs)("form",{className:r.TodoPage__modal,onSubmit:function(e){return function(e){e.preventDefault();var a=document.getElementById("priority").value,n=x()().format("MMMM Do YYYY, h:mm:ss a"),r=x()().add(j,"days").add(b,"hours").add(k,"minutes").format("MMMM Do YYYY, h:mm:ss a");t(o,B,u,h,a,n,r,M),F(B+1),d(!1),m(""),f(""),A(""),N(""),C(""),H([]),document.getElementById("priority").value=""}(e)},children:[(0,l.jsx)("input",{value:u,onChange:function(e){m(e.target.value)},type:"text",placeholder:"title"}),(0,l.jsx)("input",{value:h,onChange:function(e){f(e.target.value)},type:"text",placeholder:"descr"}),(0,l.jsxs)("select",{id:"priority",children:[(0,l.jsx)("option",{value:"",label:"Priority: "}),(0,l.jsx)("option",{value:"Urgent and important",label:"Urgent and important"}),(0,l.jsx)("option",{value:"Urgent",label:"Urgent"}),(0,l.jsx)("option",{value:"Important",label:"Important"}),(0,l.jsx)("option",{value:"Not urgent and not important",label:"Not urgent and not important"})]}),(0,l.jsxs)("div",{className:r.FormDate,children:[(0,l.jsx)("h5",{children:"Deadline"}),(0,l.jsx)("input",{type:"number",placeholder:"dd",min:0,value:j,onChange:function(e){C(e.target.value)}}),(0,l.jsx)("input",{type:"number",placeholder:"hh",min:0,value:b,onChange:function(e){N(e.target.value)}}),(0,l.jsx)("input",{type:"number",placeholder:"mm",min:0,value:k,onChange:function(e){A(e.target.value)}})]}),(0,l.jsx)(T,{uploadedFiles:M,setUploadedFiles:H}),(0,l.jsx)("button",{disabled:!j&&!b&&!k||!u&&!h&&!document.getElementById("priority").value,children:"Save"})]})}var C=a.memo(j),P="ExtraTask_ExtraTask__Z7Vzf",S="ExtraTask_extraBlock__GHys6",b="ExtraTask_extraDoneSvg__0MF9g";function N(e){var t=e.text,o=e.status,a=e.id,n=e.SetExtraAsDoneCreator,r=e.pathName,d=e.TodoId;return(0,l.jsxs)("div",{className:S,children:[(0,l.jsx)("p",{className:P,style:{background:"Done"===o&&"green"},children:t}),(0,l.jsx)("svg",{className:b,onClick:function(){n(r,d,a)},children:(0,l.jsx)("use",{xlinkHref:i+"#icon-done"})})]})}var y=a.memo(N),D=function(e){var t="00",o="00",a="00";return e<60?t=e:e>=60&&e<3600?(o=Math.floor(e/60),t=e%60):e>=3600&&(a=Math.floor(e/3600),o=Math.floor(e%3600/60),t=Math.floor(e%3600%60)),String(t).length<2&&(t="0"+t),String(o).length<2&&(o="0"+o),String(a).length<2&&(a="0"+a),{seconds:t,minutes:o,hours:a}};function k(e){var t=e.ActiveTodo,o=void 0===t?{id:0,title:"Todo",description:"cook egg",priority:"Important",created:"today",deadLine:"Tomorrow",status:"Queued",extraTasks:[],files:[]}:t,d=e.ChangeTodo,s=e.pathName,c=e.TodoId,u=(0,a.useState)(!1),m=(0,n.Z)(u,2),_=m[0],g=m[1],h=(0,a.useState)(""),f=(0,n.Z)(h,2),p=f[0],v=f[1];(0,a.useEffect)((function(){var e;return _||(e=setInterval((function(){v(D(Math.floor(x().duration(x()().diff(x()(o.created,"MMMM Do YYYY, h:mm:ss a"))).asSeconds())))}),1e3)),function(){return clearInterval(e)}}),[o,_]);var T=function(e){var t=e.ChangeTodo,d=(0,a.useState)(o.title),i=(0,n.Z)(d,2),c=i[0],u=i[1],m=(0,a.useState)(o.description),_=(0,n.Z)(m,2),h=_[0],f=_[1],p=(0,a.useState)(o.priority),v=(0,n.Z)(p,2),T=v[0],j=v[1],C=(0,a.useState)(""),P=(0,n.Z)(C,2),S=P[0],b=P[1],N=(0,a.useState)(""),y=(0,n.Z)(N,2),D=y[0],k=y[1],A=(0,a.useState)(""),I=(0,n.Z)(A,2),Z=I[0],M=I[1];return(0,l.jsxs)("form",{className:r.InfoForm,onSubmit:function(e){e.preventDefault();var a=x()().add(S,"days").add(D,"hours").add(Z,"minutes").format("MMMM Do YYYY, h:mm:ss a");t(s,o.id,e.target[0].value,e.target[1].value,T,a),g(!1)},children:[(0,l.jsx)("b",{children:"Title: "}),(0,l.jsx)("input",{type:"text",value:c,onChange:function(e){return u(e.target.value)}}),(0,l.jsx)("b",{children:"Description: "}),(0,l.jsx)("input",{type:"text",value:h,onChange:function(e){return f(e.target.value)}}),(0,l.jsx)("b",{children:"Priority: "}),(0,l.jsx)("br",{}),(0,l.jsxs)("select",{id:"priority",value:T,onChange:function(e){return j(e.target.value)},children:[(0,l.jsx)("option",{value:"",label:"Priority: "}),(0,l.jsx)("option",{value:"Urgent and important",label:"Urgent and important"}),(0,l.jsx)("option",{value:"Urgent",label:"Urgent"}),(0,l.jsx)("option",{value:"Important",label:"Important"}),(0,l.jsx)("option",{value:"Not urgent and not important",label:"Not urgent and not important"})]}),(0,l.jsx)("b",{children:"Dead line: "}),(0,l.jsx)("input",{type:"number",placeholder:"Days",min:0,value:S,onChange:function(e){b(e.target.value)}}),(0,l.jsx)("input",{type:"number",placeholder:"Hours",min:0,value:D,onChange:function(e){k(e.target.value)}}),(0,l.jsx)("input",{type:"number",placeholder:"Minutes",min:0,value:Z,onChange:function(e){M(e.target.value)}}),(0,l.jsx)("button",{disabled:!S&&!D&&!Z||!T,children:"Save"})]})};return(0,l.jsxs)(l.Fragment,{children:[_?(0,l.jsx)(T,{ChangeTodo:d}):(0,l.jsxs)("div",{className:r.Project,children:[(0,l.jsxs)("p",{children:[" ",(0,l.jsx)("b",{children:"Number: "}),o.id]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"Title: "}),o.title]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"Description: "}),o.description]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"Priority: "})," ",o.priority]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"Created: "}),o.created]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"Dead line: "}),o.deadLine]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"Status: "})," ",o.status," "]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"In progress: "}),p.hours,":",p.minutes,":",p.seconds]}),(0,l.jsx)("b",{children:"Uploaded files: "}),(0,l.jsx)("div",{className:r.fileUploader__fileName,children:c&&o.files.map((function(e){var t;try{t=URL.createObjectURL(e)}catch(o){console.log("something wrong")}return(0,l.jsx)("a",{style:{color:"white"},href:t,download:e.name,children:e.name})}))})]}),!_&&(0,l.jsx)("svg",{className:r.infoSvg,children:(0,l.jsx)("use",{onClick:function(){g(!0)},xlinkHref:i+"#icon-cogs"})})]})}var A=a.memo(k),I={Comments:"Comments_Comments__gL4ii",Comments__text:"Comments_Comments__text__0bTce",Comments__ReplyBlock:"Comments_Comments__ReplyBlock__9Bf45"},Z=function e(t){var o=t.text,r=t.addCommentCreator,d=t.pathName,s=t.TodoId,i=t.ActiveTodo,c=t.CommentLength,u=t.setCommentLength,m=t.id,_=(0,a.useState)(""),g=(0,n.Z)(_,2),x=g[0],h=g[1],f=(0,a.useState)(!1),p=(0,n.Z)(f,2),v=p[0],T=p[1];var j=i.filter((function(e){return e.parentId}));return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:I.test,children:[(0,l.jsx)("div",{className:I.Comments,children:(0,l.jsxs)("div",{className:I.Comments__ReplyBlock,children:[(0,l.jsx)("p",{className:I.Comments__text,children:o}),v&&(0,l.jsx)("input",{className:I.Comments__reply,placeholder:"Reply",type:"text",value:x,onChange:function(e){h(e.target.value)}}),!v&&(0,l.jsx)("button",{className:I.Comments__activeReplyButton,onClick:function(){T(!0)},children:"Reply"}),v&&(0,l.jsx)("button",{disabled:!x,onClick:function(){!function(e){r(d,s,c,x,e),u(c+1),h("")}(m),T(!1)},children:"Send"})]})}),(0,l.jsx)("div",{style:{marginLeft:"1rem"},children:j.reverse().map((function(t){return t.parentId===m&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e,{id:t.id,text:t.text,addCommentCreator:r,pathName:d,setCommentLength:u,CommentLength:c,TodoId:s,ActiveTodo:i},t.id)})}))})]})})},M=a.memo(Z);function H(e){var t=e.TodoId,o=e.ActiveTodo,d=e.pathName,s=e.SetExtraAsDoneCreator,i=e.AddExtraTask,c=e.ChangeTodo,u=e.addCommentCreator,m=(e.currentProject,(0,a.useState)("")),_=(0,n.Z)(m,2),g=_[0],x=_[1],h=(0,a.useState)(""),f=(0,n.Z)(h,2),p=f[0],v=f[1],T=(0,a.useState)(o[0].extraTasks.length+1),j=(0,n.Z)(T,2),C=j[0],P=j[1],S=(0,a.useState)(o[0].comments.length+1),b=(0,n.Z)(S,2),N=b[0],D=b[1];(0,a.useEffect)((function(){D(o[0].extraTasks.length+1),P(o[0].comments.length+1)}),[o[0].id]);return(0,l.jsxs)("div",{className:r.TodoPage__AboutTodo,children:[(0,l.jsxs)("div",{className:r.AboutTodo__extra,children:[(0,l.jsx)("h3",{children:"Extra Tasks"}),(0,l.jsx)("div",{className:r.extra__tasks,children:t&&o[0].extraTasks.map((function(e){return(0,l.jsx)(y,{TodoId:t,pathName:d,text:e.text,status:e.status,id:e.id,SetExtraAsDoneCreator:s},e.id)}))}),(0,l.jsxs)("div",{className:r.extra__createTask,style:{display:t?"flex":"none"},children:[(0,l.jsx)("input",{placeholder:"Task",value:g,onChange:function(e){x(e.target.value)}}),(0,l.jsx)("button",{disabled:!t||!g,onClick:function(){!function(e){i(d,t,e,C),P(C+1)}(g),x("")},children:"Create Task"})]})]}),(0,l.jsxs)("div",{className:r.info__info,children:[(0,l.jsx)("h3",{children:"Todo Info"}),o[0]&&(0,l.jsx)(A,{ActiveTodo:o[0],pathName:d,ChangeTodo:c,TodoId:t})]}),(0,l.jsxs)("div",{className:r.info__comments,children:[(0,l.jsx)("h3",{children:"Comments "}),(0,l.jsxs)("div",{className:r.comments__wrapper,children:[(0,l.jsx)("input",{type:"text",value:p,onChange:function(e){return v(e.target.value)},style:{display:!t&&"none"}}),(0,l.jsx)("button",{className:r.comments__WriteCommentButton,disabled:!t||!p,onClick:function(){u(d,t,N,p),D(N+1),v("")},children:"Comment"})]}),t&&o[0].comments.filter((function(e){return void 0===e.parentId})).reverse().map((function(e){return(0,l.jsx)(M,{id:e.id,text:e.text,addCommentCreator:u,pathName:d,TodoId:t,ActiveTodo:o[0].comments,CommentLength:N,setCommentLength:D},e.id)}))]})]})}var E=a.memo(H);function U(e){var t=e.ProjectData,o=e.SetTodoCreator,c=e.ChangeStatus,u=e.ChangeTodo,m=e.AddExtraTask,g=e.addCommentCreator,x=e.SetExtraAsDoneCreator,h=e.DeleteTodo,f=(0,d.s0)(),p=(0,d.TH)().pathname.replace("/",""),v=t.filter((function(e){return e.name===p}))[0],T=(0,a.useState)(!1),j=(0,n.Z)(T,2),P=j[0],S=j[1],b=(0,a.useState)(null),N=(0,n.Z)(b,2),y=N[0],D=N[1],k=v.Todo.filter((function(e){return e.id===y})),A=v.Todo,I=(0,a.useState)(""),Z=(0,n.Z)(I,2),M=Z[0],H=Z[1],U=(0,a.useState)(""),B=(0,n.Z)(U,2),F=B[0],L=B[1];return M&&(A=A.filter((function(e){return e.title.includes(M)}))),F&&(A=A.filter((function(e){return e.id===F}))),(0,l.jsxs)("section",{className:r.TodoPage,children:[(0,l.jsxs)("div",{className:r.TodoPage__createTodo,children:[(0,l.jsx)("button",{className:r.TodoPage__button,onClick:function(){return S(!0)},children:"Create Todo"}),(0,l.jsx)("svg",{onClick:function(){return f("/")},className:r.BackArrow,children:(0,l.jsx)("use",{xlinkHref:i+"#icon-arrow-left2"})})]}),(0,l.jsxs)("div",{className:r.TodoPage__filterTodo,children:[(0,l.jsx)("input",{value:F,onChange:function(e){return L(+e.target.value)},placeholder:"id",type:"number"}),(0,l.jsx)("input",{value:M,onChange:function(e){return H(e.target.value)},placeholder:"title"})]}),(0,l.jsx)(_,{TodoId:y,pathName:p,DeleteTodo:h,svg:i,setTodoId:D,ChangeStatus:c,filteredResult:A,currentProject:v}),(0,l.jsx)(s.Z,{active:P,setActive:S,children:(0,l.jsx)(C,{pathName:p,setActiveModal:S,SetTodoCreator:o,currentProject:v})}),y&&(0,l.jsx)(E,{pathName:p,TodoId:y,ActiveTodo:k,ChangeTodo:u,AddExtraTask:m,addCommentCreator:g,SetExtraAsDoneCreator:x,currentProject:v})]})}var B=a.memo(U),F=o(101),L=o(924),Y=a.memo((0,F.$j)((function(e){return{ProjectData:e.ProjectPage.ProjectData}}),{SetTodoCreator:L.sW,ChangeStatus:L.B5,ChangeTodo:L.EB,AddExtraTask:L.Nl,addCommentCreator:L.ce,SetExtraAsDoneCreator:L.tq,DeleteTodo:L.$d})((function(e){var t=e.SetTodoCreator,o=e.ProjectData,a=e.ChangeStatus,n=e.ChangeTodo,r=e.AddExtraTask,d=e.addCommentCreator,s=e.SetExtraAsDoneCreator,i=e.DeleteTodo;return(0,l.jsx)(B,{SetTodoCreator:t,ProjectData:o,ChangeStatus:a,ChangeTodo:n,AddExtraTask:r,addCommentCreator:d,SetExtraAsDoneCreator:s,DeleteTodo:i})})))}}]);
//# sourceMappingURL=226.d48abec2.chunk.js.map