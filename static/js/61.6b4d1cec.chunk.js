"use strict";(self.webpackChunktodo=self.webpackChunktodo||[]).push([[61],{259:function(e,t,o){o.d(t,{Z:function(){return r}});o(791);var a={modal:"Modal_modal__1mttd",modal__content:"Modal_modal__content__lAVmq",active:"Modal_active__38XaT"},n=o(184),r=function(e){var t=e.active,o=e.setActive,r=e.children;return(0,n.jsx)("div",{className:t?"".concat(a.modal," ").concat(a.active):" ".concat(a.modal),onClick:function(){return o(!1)},children:(0,n.jsx)("div",{className:t?"".concat(a.modal__content," ").concat(a.active):"".concat(a.modal__content," ").concat(a.Purple),onClick:function(e){return e.stopPropagation()},children:r})})}},61:function(e,t,o){o.r(t),o.d(t,{default:function(){return M}});var a=o(791),n=o(885),r={TodoPage__title:"TodoPage_TodoPage__title__20Osq",TodoPage__todoCreator:"TodoPage_TodoPage__todoCreator__jxHyb",infoSvg:"TodoPage_infoSvg__rMMoL",Project:"TodoPage_Project__znVTJ",TodoPage:"TodoPage_TodoPage__b9YgA",TodoPage__button:"TodoPage_TodoPage__button__jOH+X",activeItem:"TodoPage_activeItem__YUrXm",BackArrow:"TodoPage_BackArrow__nHe9o",test:"TodoPage_test__dAo6U",todo:"TodoPage_todo__tg+Wo",todo__delete:"TodoPage_todo__delete__n7HzF",info__info:"TodoPage_info__info__PbBGm",InfoForm:"TodoPage_InfoForm__xU8G4",TodoPage__AboutTodo:"TodoPage_TodoPage__AboutTodo__jcHUB",divCreated:"TodoPage_divCreated__KPDBF",created:"TodoPage_created__QWvSp",info__dragDrop:"TodoPage_info__dragDrop__DP-He",info__create:"TodoPage_info__create__RRxdl",info__comments:"TodoPage_info__comments__H+h8h",info__extraTodo:"TodoPage_info__extraTodo__KxmHe",AboutTodo__extra:"TodoPage_AboutTodo__extra__SosiL",extra__createTask:"TodoPage_extra__createTask__n3AST",Board:"TodoPage_Board__psmBV",colHeader:"TodoPage_colHeader__L2sLd",item:"TodoPage_item__Ksqa5",placeholder:"TodoPage_placeholder__n2hfW",TodoPage__modal:"TodoPage_TodoPage__modal__F6eoo",FormDate:"TodoPage_FormDate__o5PDW",TodoPage__createTodo:"TodoPage_TodoPage__createTodo__uVsHR",fileUploader__fileName:"TodoPage_fileUploader__fileName__82lqm",TodoPage__filterTodo:"TodoPage_TodoPage__filterTodo__FSbmb"},i=o(689),d=o(426),s=o.n(d);var l=o.p+"static/media/symbol-defs.55945bcbb3844a9a42a266ec875f3af2.svg",c=function(e){var t="00",o="00",a="00";return e<60?t=e:e>=60&&e<3600?(o=Math.floor(e/60),t=e%60):e>=3600&&(a=Math.floor(e/3600),o=Math.floor(e%3600/60),t=Math.floor(e%3600%60)),String(t).length<2&&(t="0"+t),String(o).length<2&&(o="0"+o),String(a).length<2&&(a="0"+a),{seconds:t,minutes:o,hours:a}},u=o(184);function _(e){var t=e.ActiveTodo,o=void 0===t?{id:0,title:"Todo",description:"cook egg",priority:"Important",created:"today",deadLine:"Tomorrow",status:"Queued",extraTasks:[],files:[]}:t,i=e.ChangeTodo,d=e.pathName,_=(0,a.useState)(!1),m=(0,n.Z)(_,2),f=m[0],x=m[1],g=(0,a.useState)(""),h=(0,n.Z)(g,2),p=h[0],v=h[1];(0,a.useEffect)((function(){var e;return f||(e=setInterval((function(){v(c(Math.floor(s().duration(s()().diff(s()(o.created,"MMMM Do YYYY, h:mm:ss a"))).asSeconds())))}),1e3)),function(){return clearInterval(e)}}),[o,f]);var T=function(e){var t=e.ChangeTodo,i=(0,a.useState)(o.title),l=(0,n.Z)(i,2),c=l[0],_=l[1],m=(0,a.useState)(o.description),f=(0,n.Z)(m,2),g=f[0],h=f[1],p=(0,a.useState)(o.priority),v=(0,n.Z)(p,2),T=v[0],j=v[1],P=(0,a.useState)(""),b=(0,n.Z)(P,2),C=b[0],S=b[1],y=(0,a.useState)(""),D=(0,n.Z)(y,2),N=D[0],k=D[1],A=(0,a.useState)(""),Z=(0,n.Z)(A,2),M=Z[0],U=Z[1];return(0,u.jsxs)("form",{className:r.InfoForm,onSubmit:function(e){e.preventDefault();var a=s()().add(C,"days").add(N,"hours").add(M,"minutes").format("MMMM Do YYYY, h:mm:ss a");t(d,o.id,e.target[0].value,e.target[1].value,T,a),x(!1)},children:[(0,u.jsx)("b",{children:"Title: "}),(0,u.jsx)("input",{type:"text",value:c,onChange:function(e){return _(e.target.value)}}),(0,u.jsx)("b",{children:"Description: "}),(0,u.jsx)("input",{type:"text",value:g,onChange:function(e){return h(e.target.value)}}),(0,u.jsx)("b",{children:"Priority: "}),(0,u.jsx)("br",{}),(0,u.jsxs)("select",{id:"priority",value:T,onChange:function(e){return j(e.target.value)},children:[(0,u.jsx)("option",{value:"",label:"Priority: "}),(0,u.jsx)("option",{value:"Urgent and important",label:"Urgent and important"}),(0,u.jsx)("option",{value:"Urgent",label:"Urgent"}),(0,u.jsx)("option",{value:"Important",label:"Important"}),(0,u.jsx)("option",{value:"Not urgent and not important",label:"Not urgent and not important"})]}),(0,u.jsx)("b",{children:"Dead line: "}),(0,u.jsx)("input",{type:"number",placeholder:"Days",min:0,value:C,onChange:function(e){S(e.target.value)}}),(0,u.jsx)("input",{type:"number",placeholder:"Hours",min:0,value:N,onChange:function(e){k(e.target.value)}}),(0,u.jsx)("input",{type:"number",placeholder:"Minutes",min:0,value:M,onChange:function(e){U(e.target.value)}}),(0,u.jsx)("button",{disabled:!C&&!N&&!M||!T,children:"Save"})]})};return(0,u.jsxs)(u.Fragment,{children:[f?(0,u.jsx)(T,{ChangeTodo:i}):(0,u.jsxs)("div",{className:r.Project,children:[(0,u.jsxs)("p",{children:[" ",(0,u.jsx)("b",{children:"Number: "}),o.id]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"Title: "}),o.title]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"Description: "}),o.description]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"Priority: "})," ",o.priority]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"Created: "}),o.created]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"Dead line: "}),o.deadLine]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"Status: "})," ",o.status," "]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"In progress: "}),p.hours,":",p.minutes,":",p.seconds]}),(0,u.jsx)("b",{children:"Uploaded files: "}),(0,u.jsx)("div",{className:r.fileUploader__fileName,children:o.files.map((function(e){var t;try{t=URL.createObjectURL(e)}catch(a){console.log("something wrong")}return console.log(o),(0,u.jsx)("a",{style:{color:"white"},href:t,download:e.name,children:e.name})}))})]}),!f&&(0,u.jsx)("svg",{className:r.infoSvg,children:(0,u.jsx)("use",{onClick:function(){x(!0)},xlinkHref:l+"#icon-cogs"})})]})}var m=a.memo(_),f=o(259),x="Comments_Comments__text__0bTce",g=function(e){var t=e.text;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("p",{className:x,children:t})})},h=a.memo(g),p=o(982),v="FileUploader_fileUploader__9uPfP",T="FileUploader_fileUploader__fileName__iVxFH",j=function(e){var t=e.uploadedFiles,o=e.setUploadedFiles,r=(0,a.useState)(!1),i=(0,n.Z)(r,2),d=i[0],s=i[1];return(0,u.jsxs)("div",{className:"App",children:[(0,u.jsx)("input",{className:v,id:"fileUpload",type:"file",multiple:!0,onChange:function(e){!function(e){var a=(0,p.Z)(t),n=!1;e.some((function(e){if(-1===a.findIndex((function(t){return t.name===e.name}))&&(a.push(e),10===a.length&&s(!0),a.length>10))return alert("You can only add a maximum of ".concat(10," files")),s(!1),n=!0,!0})),n||o(a)}(Array.prototype.slice.call(e.target.files))},disabled:d}),(0,u.jsx)("h3",{style:{textAlign:"center"},children:"Uploaded files: "}),(0,u.jsx)("div",{className:T,children:t.map((function(e){return(0,u.jsx)("div",{children:e.name})}))})]})},P=a.memo(j),b="ExtraTask_ExtraTask__hCvhy",C="ExtraTask_extraBlock__9Ih8H",S="ExtraTask_extraDoneSvg__N2dpN";function y(e){var t=e.text,o=e.status,a=e.id,n=e.SetExtraAsDoneCreator,r=e.pathName,i=e.TodoId;return(0,u.jsxs)("div",{className:C,children:[(0,u.jsx)("p",{className:b,style:{background:"Done"===o&&"green"},children:t}),(0,u.jsx)("svg",{className:S,onClick:function(){n(r,i,a)},children:(0,u.jsx)("use",{xlinkHref:l+"#icon-done"})})]})}var D=a.memo(y),N=o(924);function k(e){var t=e.ProjectData,o=e.SetTodoCreator,d=e.ChangeStatus,c=e.ChangeTodo,_=e.AddExtraTask,x=e.addCommentCreator,g=e.SetExtraAsDoneCreator,p=(0,i.s0)(),v=(0,i.TH)().pathname.replace("/",""),T=t.filter((function(e){return e.name===v}))[0],j=(0,a.useState)(!1),b=(0,n.Z)(j,2),C=b[0],S=b[1];function y(){var e=(0,a.useState)(""),t=(0,n.Z)(e,2),i=t[0],d=t[1],l=(0,a.useState)(""),c=(0,n.Z)(l,2),_=c[0],m=c[1],f=(0,a.useState)(""),x=(0,n.Z)(f,2),g=x[0],h=x[1],p=(0,a.useState)(""),j=(0,n.Z)(p,2),b=j[0],C=j[1],y=(0,a.useState)(""),D=(0,n.Z)(y,2),N=D[0],k=D[1],A=(0,a.useState)([]),Z=(0,n.Z)(A,2),M=Z[0],U=Z[1];return(0,u.jsxs)("form",{className:r.TodoPage__modal,onSubmit:function(e){return function(e){e.preventDefault();var t=document.getElementById("priority").value,a=s()().format("MMMM Do YYYY, h:mm:ss a"),n=s()().add(g,"days").add(b,"hours").add(N,"minutes").format("MMMM Do YYYY, h:mm:ss a");o(v,T.Todo.length+1,i,_,t,a,n,M),S(!1)}(e)},children:[(0,u.jsx)("input",{value:i,onChange:function(e){d(e.target.value)},type:"text",placeholder:"title"}),(0,u.jsx)("input",{value:_,onChange:function(e){m(e.target.value)},type:"text",placeholder:"descr"}),(0,u.jsxs)("select",{id:"priority",children:[(0,u.jsx)("option",{value:"",label:"Priority: "}),(0,u.jsx)("option",{value:"Urgent and important",label:"Urgent and important"}),(0,u.jsx)("option",{value:"Urgent",label:"Urgent"}),(0,u.jsx)("option",{value:"Important",label:"Important"}),(0,u.jsx)("option",{value:"Not urgent and not important",label:"Not urgent and not important"})]}),(0,u.jsxs)("div",{className:r.FormDate,children:[(0,u.jsx)("h5",{children:"Deadline"}),(0,u.jsx)("input",{type:"number",placeholder:"dd",min:0,value:g,onChange:function(e){h(e.target.value)}}),(0,u.jsx)("input",{type:"number",placeholder:"hh",min:0,value:b,onChange:function(e){C(e.target.value)}}),(0,u.jsx)("input",{type:"number",placeholder:"mm",min:0,value:N,onChange:function(e){k(e.target.value)}})]}),(0,u.jsx)(P,{uploadedFiles:M,setUploadedFiles:U}),(0,u.jsx)("button",{disabled:!g&&!b&&!N||!i&&!_&&!document.getElementById("priority").value,children:"Save"})]})}var N,k,A,Z=(0,a.useState)(""),M=(0,n.Z)(Z,2),U=M[0],I=M[1],E=(0,a.useState)(""),F=(0,n.Z)(E,2),Y=F[0],H=F[1],B=T.Todo;Y&&(B=B.filter((function(e){return e.id===Y}))),U&&(B=B.filter((function(e){return e.title.includes(U)}))),T.Todo&&!B?(N=T.Todo.filter((function(e){return"Queue"===e.status})),k=T.Todo.filter((function(e){return"Development"===e.status})),A=T.Todo.filter((function(e){return"Done"===e.status}))):B&&(N=B.filter((function(e){return"Queue"===e.status})),k=B.filter((function(e){return"Development"===e.status})),A=B.filter((function(e){return"Done"===e.status})));var w=(0,a.useState)(null),L=(0,n.Z)(w,2),O=L[0],q=(L[1],(0,a.useState)(null)),Q=(0,n.Z)(q,2),R=Q[0],V=Q[1],W=(0,a.useState)(""),K=(0,n.Z)(W,2),X=K[0],z=K[1],G=(0,a.useState)(""),J=(0,n.Z)(G,2),$=J[0],ee=J[1],te=(0,a.useState)([{id:1,text:"Queue",todos:N},{id:2,text:"Development",todos:k},{id:3,text:"Done",todos:A}]),oe=(0,n.Z)(te,2),ae=oe[0],ne=oe[1];ae[0].todos=N,ae[1].todos=k,ae[2].todos=A;var re=(0,a.useState)(null),ie=(0,n.Z)(re,2),de=ie[0],se=ie[1],le=(0,a.useState)(null),ce=(0,n.Z)(le,2),ue=ce[0],_e=ce[1];function me(e,t){e.preventDefault(),"item"===e.target.className&&(e.target.style.boxShadow="0 2px 3px gray")}return O=T.Todo.filter((function(e){return e.id===R})),(0,u.jsxs)("section",{className:r.TodoPage,children:[(0,u.jsxs)("div",{className:r.TodoPage__createTodo,children:[(0,u.jsx)("button",{className:r.TodoPage__button,onClick:function(){return S(!0)},children:"Create Todo"}),(0,u.jsx)("svg",{onClick:function(){return p("/")},className:r.BackArrow,children:(0,u.jsx)("use",{xlinkHref:l+"#icon-arrow-left2"})})]}),(0,u.jsxs)("div",{className:r.TodoPage__filterTodo,children:[(0,u.jsx)("input",{value:Y,onChange:function(e){return H(+e.target.value)},placeholder:"id",type:"number"}),(0,u.jsx)("input",{value:U,onChange:function(e){return I(e.target.value)},placeholder:"title"})]}),(0,u.jsx)("div",{className:r.info__dragDrop,children:ae.map((function(e){return(0,u.jsxs)("div",{className:r.Board,onDragOver:function(e){return me(e)},onDrop:function(t){return function(e,t){t.todos.push(ue);var o=de.todos.indexOf(ue);de.todos.splice(o,1),ne(ae.map((function(e){return e.id===t.id?t:e.id===de.id?de:e}))),d(v,R,t.text)}(0,e)},children:[(0,u.jsx)("div",{className:r.Board__title,children:e.text}),e.todos.map((function(t){return(0,u.jsx)("div",{className:"".concat(r.item," ").concat(t.id===R?r.activeItem:void 0),draggable:"true",onDragStart:function(o){return function(e,t,o){se(t),_e(o),V(o.id)}(0,e,t)},onDragLeave:function(e){return function(e){e.target.style.boxShadow="none"}(e)},onDragEnd:function(e){return function(e,t){e.target.style.boxShadow="none",V(t.id)}(e,t)},onDragOver:function(e){return me(e)},onDrop:function(o){return function(e,t,o){e.stopPropagation();var a=de.todos.indexOf(ue);de.todos.splice(a,1);var n=t.todos.indexOf(o);t.todos.splice(n+1,0,ue),ne(ae.map((function(e){return e.id===t.id?t:e.id===de.id?de:e})))}(o,e,t)},children:t.title},t.id)}))]},e.text.length)}))}),(0,u.jsx)(f.Z,{active:C,setActive:S,children:(0,u.jsx)(y,{})}),(0,u.jsxs)("div",{className:r.TodoPage__AboutTodo,children:[(0,u.jsxs)("div",{className:r.AboutTodo__extra,children:[(0,u.jsx)("h3",{children:"Extra Tasks"}),(0,u.jsx)("div",{className:r.extra__tasks,children:R&&O[0].extraTasks.map((function(e){return(0,u.jsx)(D,{TodoId:R,pathName:v,text:e.text,status:e.status,id:e.id,SetExtraAsDoneCreator:g},e.id)}))}),(0,u.jsxs)("div",{className:r.extra__createTask,style:{display:R?"flex":"none"},children:[(0,u.jsx)("input",{placeholder:"Task",value:X,onChange:function(e){z(e.target.value)}}),(0,u.jsx)("button",{disabled:!R||!X,onClick:function(){!function(e){_(v,R,e,O[0].extraTasks.length+1)}(X),z("")},children:"Create Task"})]})]}),(0,u.jsxs)("div",{className:r.info__info,children:[(0,u.jsx)("h3",{children:"Todo Info"}),O[0]&&(0,u.jsx)(m,{ActiveTodo:O[0],pathName:v,ChangeTodo:c})]}),(0,u.jsxs)("div",{className:r.info__comments,children:[(0,u.jsx)("h3",{children:"Comments "}),(0,u.jsx)("input",{type:"text",value:$,onChange:function(e){return ee(e.target.value)},style:{display:!R&&"none"}}),(0,u.jsx)("button",{disabled:!R||!$,onClick:function(){x(v,R,O[0].comments.length+1,$),ee("")},children:"add comment"}),R&&O[0].comments.map((function(e){return(0,u.jsx)(h,{id:e.id,text:e.text,addCommentCreator:x,pathName:v,TodoId:R,ActiveTodo:O[0].comments},e.id)}))]})]})]})}var A=a.memo(k),Z=o(101),M=a.memo((0,Z.$j)((function(e){return{ProjectData:e.ProjectPage.ProjectData}}),{SetTodoCreator:N.sW,ChangeStatus:N.B5,ChangeTodo:N.EB,AddExtraTask:N.Nl,addCommentCreator:N.ce,SetExtraAsDoneCreator:N.tq})((function(e){var t=e.SetTodoCreator,o=e.ProjectData,a=e.ChangeStatus,n=e.ChangeTodo,r=e.AddExtraTask,i=e.addCommentCreator,d=e.SetExtraAsDoneCreator;return(0,u.jsx)(A,{SetTodoCreator:t,ProjectData:o,ChangeStatus:a,ChangeTodo:n,AddExtraTask:r,addCommentCreator:i,SetExtraAsDoneCreator:d})})))}}]);
//# sourceMappingURL=61.6b4d1cec.chunk.js.map